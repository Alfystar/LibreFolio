# pytest.ini
# Configuration for pytest to avoid treating test_runner.py as a test module

[pytest]
# Add project root to Python path for imports
pythonpath = .

# Don't collect test_runner.py as it's a test orchestrator, not a pytest test
python_files = test_*.py
python_classes = Test*
python_functions = test_*

# Exclude test_runner.py from collection
testpaths = backend/test_scripts

# Ignore test_runner.py at root
addopts = --ignore=test_runner.py

# Coverage configuration
# Generate coverage report after running tests
# Usage: pytest --cov=backend/app --cov-report=html --cov-report=term
[coverage:run]
source = backend/app
omit =
    */test_*
    */tests/*
    */__pycache__/*
    */site-packages/*
    */virtualenvs/*

[coverage:report]
# Show missing lines in terminal report
show_missing = True
# Skip fully covered files in report
skip_covered = False
# Minimum coverage percentage
precision = 2
# Sort by coverage percentage (ascending)
sort = Cover

[coverage:html]
directory = htmlcov
title = LibreFolio Test Coverage Report

